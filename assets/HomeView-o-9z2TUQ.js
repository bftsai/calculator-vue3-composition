import{r as o,c as f,a as l,t as x,b as w,o as m}from"./index-MFPv1MII.js";const N={class:"container"},g=l("h1",{class:"text-center"},"Calculator Vue3 Composition API",-1),h={class:"calculator"},y={class:"outputArea position-relative"},F={key:0,class:"position-absolute fw-bold top-10 start-10"},E={class:"p-10 text-end fs-2 fw-bold"},R={key:1,class:"text-end text-danger my-5 fw-bold px-10"},$={__name:"HomeView",setup(A){const a=o(0),v=o(0),t=o(0),e=o("0"),u=o(""),n=o(!1),i=o(!1);function c(s){new RegExp("^-?[\\d]{1,9}$").test(Number(e.value))?e.value+=s.target.textContent:i.value=!0,u.value==="="&&Number(e.value)&&(a.value=0,v.value=0,t.value=0,u.value="",n.value=!1)}function b(s){i.value=!1,u.value?(Number(e.value)&&u.value==="="&&(t.value=Number(e.value)),u.value=s.target.textContent,e.value="0"):n.value?(u.value=s.target.textContent,v.value=Number(e.value),e.value="0"):e.value==="0"&&s.target.textContent==="-"?e.value="-0":(u.value=s.target.textContent,a.value=Number(e.value),e.value="0")}function k(){i.value=!1,n.value?a.value=Number(e.value):e.value==="-0"||Number(e.value)<0?(a.value=Number(e.value),u.value="-"):v.value=Number(e.value),C(),e.value="0",n.value=!0,p()}function C(){const s=new RegExp("^-?\\d?.00$");switch(u.value){case"+":n.value?t.value+=a.value:t.value=a.value+v.value;break;case"-":n.value?t.value-=a.value:t.value=a.value-v.value;break;case"*":n.value?t.value*=a.value:t.value=a.value*v.value,t.value=s.test(Number(t.value.toFixed(2)))?t.value:Number(t.value.toFixed(2));break;case"/":if(n.value){if(a.value===0){alert("除數不得為零！！！"),r();return}}else if(v.value===0){alert("除數不得為零！！！"),r();return}n.value?t.value/=a.value:t.value=a.value/v.value,t.value=s.test(Number(t.value.toFixed(2)))?t.value:Number(t.value.toFixed(2));break;default:alert("操作錯誤，請重試！！！"),r();break}a.value=0,v.value=0,u.value="="}function p(){const s=new RegExp("^-?[\\d]{0,10}$"),d=new RegExp("^-?\\d{0,10}.[\\d]{0,2}$");String(t.value).includes(".")?d.test(t.value)||(r(),alert("數值過大，無法計算！！！")):s.test(t.value)||(r(),alert("數值過大，無法計算！！！"))}function r(){a.value=0,v.value=0,t.value=0,e.value="0",u.value="",n.value=!1,i.value=!1}function _(){i.value=!1,Object.is(Number(e.value.slice(0,-1)),-0)?e.value="-0":e.value.slice(0,-1)==="-"?e.value="0":e.value=e.value.slice(0,-1)}return(s,d)=>(m(),f("main",N,[g,l("div",h,[l("div",y,[u.value?(m(),f("div",F,x(u.value),1)):w("",!0),l("div",E,x(u.value==="="?Number(e.value)?Number(e.value):t.value:e.value==="-0"?"-0":Number(e.value)),1),i.value?(m(),f("p",R,"最多 10 位數字")):w("",!0)]),l("div",{class:"buttonArea"},[l("div",{class:"d-flex justify-content-between flex-wrap"},[l("div",{class:"btn mb-10 text-center fw-bold w-210",onClick:r},"Reset"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:_},"Del"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:b},"/"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"7"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"8"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"9"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:b},"*"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"4"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"5"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"6"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:b},"-"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"1"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"2"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:c},"3"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:b},"+"),l("div",{class:"btn mb-10 text-center fw-bold w-320",onClick:c},"0"),l("div",{class:"btn mb-10 text-center fw-bold",onClick:k},"=")])])])]))}};export{$ as default};
